# Практика 1
## Макаров Михаил Максимович
## ББМО-02-23
Была создана ВМ с ОС Debian
Из под пользователя root: 
```bash
su root
```
Установили консольный менеджер файлов mc
Отредактировали файл sudoers, добавив пользователю user права на sudo
```bash
mcedit /etc/sudoers
```
Выполнили обновление системы, установили пакеты, необходимые для дополнений VBox
Установили сами дополнения VBox

| ![](images/Снимок%20экрана%202024-09-24%20224417.png) | 
|:--:| 
| *Выполненные команды* |

| ![](images/Снимок%20экрана%202024-09-24%20222856.png) |
|:--:|
| *Файл /etc/sudoers* |

Создали две связные копии из имеющийся виртуальной машины и настроили между ними сетевой мост

| ![](images/Снимок%20экрана%202024-09-24%20220626.png) |
|:--:|
| *2 новые ВМ* |

| ![](images/Снимок%20экрана%202024-09-24%20220653.png) |
|:--:|
| *ВМ server* |

| ![](images/Снимок%20экрана%202024-09-24%20220704.png) |
|:--:|
| *ВМ client* |
___
___
### Настройка сервера
___
Переименовываем машину
|![](images/Снимок%20экрана%202024-09-24%20233110.png)|
|:--:|
|*server*|

|![](images/Снимок%20экрана%202024-09-24%20233402.png)|
|:--:|
|*Уставнока rsyslog*|

Запускаем rsyslog, включаем в автозапуск, проверяем
|![](images/Снимок%20экрана%202024-09-24%20234229.png)|
|:--:|
|*rsyslog*|

Задаём работу по udp с портом 514
|![](images/Снимок%20экрана%202024-09-24%20235530.png)|
|:--:|
|*Настройка порта*|

Прописываем правила
|![](images/Снимок%20экрана%202024-09-24%20234647.png)|
|:--:|
|*Правила*|

Проверяем работу, также проверили с помощью
```bash
sudo systemctl status rsyslog
```
|![](images/Снимок%20экрана%202024-09-24%20234905.png)|
|:--:|
|*Проверка*|

Итог:
- Установими hostname
- Запустили rsyslog
- Настроили rsyslog
- Проверили

|![](images/Снимок%20экрана%202024-09-24%20234955.png)|
|:--:|
|*Итог*|

___
___
### Настройка клиента
___
:::
- Устанавливаем rsyslog
- Изменяем имя машины
- запускаем, включаем автозапуск, проверяем
- Редактируем конфиг (all.conf - для всех логов)
```bash
mcedit /etc/rsyslog.d/all.conf
```
- Перезапускаем rsyslog
- Проверяем

|![](images/Снимок%20экрана%202024-09-25%20003711.png)|
|:--:|
|*Шаги*|

|![](images/Снимок%20экрана%202024-09-25%20003614.png)|
|:--:|
|*Конфиг*|

|![](images/Снимок%20экрана%202024-09-25%20003722.png)|
|:--:|
|*Проверка*|
___
___
Проверка логов на сервере
___
